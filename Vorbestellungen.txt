<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mensa Bestellung ‚Ä¢ Demo</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #7fc8f8, #89e3a4);
    margin: 0;
    min-height: 100vh;
}

/* NAVBAR */
.navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 60px;
    background: white;
}
.navbar ul {
    list-style: none;
    display: flex;
    gap: 30px;
}
.navbar a {
    text-decoration: none;
    color: #333;
}

/* ZENTRIERTE CONTAINER */
main {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 40px;
}

.container {
    background: white;
    padding: 25px;
    border-radius: 20px;
    width: 380px;
    text-align: center;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    margin-bottom: 30px;
    animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
    from { opacity:0; transform: translateY(20px); }
    to { opacity:1; transform: translateY(0); }
}

/* Buttons */
.btn {
    padding: 12px;
    width: 90%;
    border: none;
    border-radius: 10px;
    margin-top: 10px;
    font-size: 16px;
    background: #49a6e9;
    color: white;
    cursor: pointer;
}
.btn:hover { background:#2a85c8; }

.small-btn {
    width: 45%;
}

.selected {
    background: #32b768 !important;
}

#backBtn {
    background: #777;
}
#backBtn:hover {
    background: #555;
}

/* Tages- und Gerichte-Liste */
.dayRow {
    background: #f3f3f3;
    padding: 12px;
    border-radius: 12px;
    margin: 10px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    text-align: left;
}

.dayRow .meal {
    font-size: 14px;
    color: #333;
}

.dayRow button {
    width: auto;
    padding: 8px 14px;
    font-size: 14px;
}

#balance {
    font-size: 14px;
    color: #555;
    margin-bottom: 12px;
}

input {
    width: 80%;
    padding: 10px;
    border-radius: 10px;
    border: 1px solid #ccc;
    margin: 10px 0;
}
</style>
</head>

<body>

<header class="navbar"> 
    <div class="logo"><img src="logo.png" width="100" height="120"></div>
    <nav> 
        <ul>
            <li><a href="Luise.html">Home</a></li>
            <li><a href="speiseplan.html">Speiseplan</a></li>
            <li><a href="#">FAQ</a></li>
            <li><a href="#">Impressum</a></li>
            <li><a href="#">Datenschutz</a></li>
        </ul>
    </nav>
</header>

<main>

<!-- LOGIN -->
<div class="container" id="loginPage">
    <h2>üîê Login</h2>
    <input type="text" placeholder="Benutzername">
    <input type="password" placeholder="Passwort">
    <button class="btn" onclick="showPage('orderStep1')">Login</button>
</div>

<!-- TAGE + ESSEN AUSW√ÑHLEN -->
<div class="container" id="orderStep1" style="display:none;">
    <h2>üçΩÔ∏è Essen ausw√§hlen</h2>
    <div id="balance">Guthaben: 25‚Ç¨</div>

    <div id="dayList"></div>

    <button class="btn" onclick="showPage('orderStep2')">Weiter ‚ûú</button>
</div>

<!-- ZEIT AUSW√ÑHLEN -->
<div class="container" id="orderStep2" style="display:none;">
    <h2>‚è∞ Wann essen?</h2>

    <button class="btn" onclick="selectTime('nach der 5. Stunde')">Nach der 5. Stunde</button>
    <button class="btn" onclick="selectTime('nach der 6. Stunde')">Nach der 6. Stunde</button>

    <button class="btn small-btn" id="backBtn" onclick="showPage('orderStep1')">‚¨Ö Zur√ºck</button>
    <button class="btn small-btn" onclick="showPage('orderFinish')">Weiter ‚ûú</button>
</div>

<!-- BEST√ÑTIGUNG -->
<div class="container" id="orderFinish" style="display:none;">
    <h2>üéâ Fertig!</h2>
    <p>Deine Bestellung wurde gespeichert.</p>
    <button class="btn" onclick="showPage('ordersPage')">üìã Bestellungen ansehen</button>
</div>

<!-- BESTELLUNGEN -->
<div class="container" id="ordersPage" style="display:none;">
    <h2>üìã Deine Bestellungen</h2>
    <div id="summaryOutput"></div>

    <button class="btn small-btn" id="backBtn" onclick="showPage('orderFinish')">‚¨Ö Zur√ºck</button>
    <button class="btn small-btn" onclick="showCancellation()">üóëÔ∏è Stornieren</button>
</div>

<!-- STORNIEREN -->
<div class="container" id="cancelPage" style="display:none;">
    <h2>‚ùå Stornieren</h2>
    <div id="cancelOptions"></div>

    <button class="btn small-btn" onclick="confirmCancellation()">Best√§tigen</button>
    <button class="btn small-btn" onclick="showPage('ordersPage')">‚¨Ö Zur√ºck</button>
</div>

</main>

<script>
let selectedDays = [];
let selectedTime = "";
let balance = 25;

/* Speiseplan */
const mensaPlan = {
    "Montag": "Spaghetti Bolognese",
    "Dienstag": "Reis-Gem√ºse-Pfanne",
    "Mittwoch": "Kartoffeln & Fischst√§bchen",
    "Donnerstag": "H√§hnchen mit Nudeln"
};

/* TAG + ESSEN NEBENEINANDER ANZEIGEN */
function loadDayList() {
    const list = document.getElementById("dayList");
    list.innerHTML = "";

    for (const day in mensaPlan) {
        const row = document.createElement("div");
        row.className = "dayRow";
        row.innerHTML = `
            <div>
                <b>${day}</b><br>
                <span class="meal">${mensaPlan[day]}</span>
            </div>
            <button class="btn small-btn" onclick="selectDay('${day}', event)">W√§hlen</button>
        `;
        list.appendChild(row);
    }
}
loadDayList();

/* TAG AUSW√ÑHLEN */
function selectDay(day, event) {
    const btn = event.target;

    if (selectedDays.includes(day)) {
        selectedDays = selectedDays.filter(d => d !== day);
        btn.classList.remove("selected");
        btn.innerText = "W√§hlen";
        balance += 5;
    } else {
        selectedDays.push(day);
        btn.classList.add("selected");
        btn.innerText = "Gew√§hlt";
        balance -= 5;
    }

    document.getElementById("balance").innerText = "Guthaben: " + balance + "‚Ç¨";
}

/* ZEIT AUSW√ÑHLEN */
function selectTime(time) {
    selectedTime = time;
    document.querySelectorAll("#orderStep2 .btn").forEach(b => b.classList.remove("selected"));
    event.target.classList.add("selected");
}

/* SEITEN WECHSELN */
function showPage(pageId) {
    document.querySelectorAll(".container").forEach(c => c.style.display = "none");
    document.getElementById(pageId).style.display = "block";

    if (pageId === "ordersPage") {
        document.getElementById("summaryOutput").innerText =
            selectedDays.length === 0
            ? "Keine Bestellung vorhanden."
            : selectedDays.join(", ") + " ‚Äì " + selectedTime;
    }
}

/* STORNIEREN */
function showCancellation() {
    const box = document.getElementById("cancelOptions");
    box.innerHTML = "";

    selectedDays.forEach(day => {
        const btn = document.createElement("button");
        btn.className = "btn selected";
        btn.innerText = day;
        btn.onclick = () => {
            selectedDays = selectedDays.filter(d => d !== day);
            balance += 5;
            btn.remove();
            document.getElementById("balance").innerText = "Guthaben: " + balance + "‚Ç¨";
        };
        box.appendChild(btn);
    });

    showPage("cancelPage");
}

function confirmCancellation() {
    showPage("ordersPage");
}
</script>

</body>
</html>
